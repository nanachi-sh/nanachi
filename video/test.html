<!DOCTYPE html>
<html>
<head>
    <title></title>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js"></script>
</head>
<script>
    function callback(buffer, sourceBuffer){
        sourceBuffer.appendBuffer(buffer);
        console.log(buffer.byteLength);
    };

    function get(url, callback, sourceBuffer) {
        var xhr = new XMLHttpRequest();
        xhr.open('GET', url, true);
        xhr.responseType = 'arraybuffer';
        xhr.send();
        xhr.onload = function() {
            callback(xhr.response, sourceBuffer);
        };
    };
</script>
<body>
<video id="v1" controls autoplay></video>
<script>
    var ms1 = new MediaSource();
    var video1 = document.querySelector('#v1');
    video1.src = window.URL.createObjectURL(ms1);
    ms1.addEventListener('sourceopen', function(e) {
        var sourceBuffer = ms1.addSourceBuffer('video/webm; codecs="opus,vp9"');
        get('https://video.nanachi.sh/Made in Abyss: Journey's Dawn.webm', callback, sourceBuffer);
    }, false);
</script>
</body>
</html>
